<!DOCTYPE html>
<!-- saved from url=(0045)https://www.alexandrerangel.art.br/hydra/ovo/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>hydra</title>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="./hydra_files/style.css">
    
    <!-- import the latest version of hydra synth-->
    <script src="./hydra_files/hydra-synth"></script>
  </head>
  <body>

    <div>
      <canvas id="myCanvas" style="background-color: black; width: 737px; height: 100%;" width="1440" height="737"></canvas>
    </div>

    <!-- <canvas id="myCanvas"></canvas> -->

    <script>

      let isIOS =
        (/iPad|iPhone|iPod/.test(navigator.platform) ||
          (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&
        !window.MSStream;

      let precisionValue = isIOS ? 'highp' : 'mediump';


      var canvas = document.getElementById("myCanvas")
      canvas.width = window.innerWidth
      canvas.height = window.innerHeight
      canvas.style.width = '100%'
      canvas.style.height = '100%'

     var hydra = new Hydra({
        canvas: document.getElementById("myCanvas"),
        width: window.innerWidth,
        height: window.innerHeight,
        enableStreamCapture: false,
        detectAudio: false,
        precision: precisionValue
      })

      // square canvas:
      const width = canvas.clientWidth
      const height = canvas.clientHeight
      if(width < height) { canvas.style.height = width+"px" }
      else { canvas.style.width = height+"px" }

      // mousedown plays audio
      canvas.addEventListener("mousedown", ()=>loadAudio() )

      // Hydra code:

      function loadAudio() {
        var num = Math.floor(Math.random()*33)
        var audio1 = new Audio('./audio/ovo'+num+'.mp3')
        console.log('./audio/ovo' + num + '.mp3')
        audio1.playbackRate = (Math.random()*0.1)+0.5
        audio1.volume = 0.333
        audio1.play()
      }
      
      loadAudio() // play audio
      setInterval( ()=> { if(Math.random()>0.3) { loadAudio() } }, 9000) // audio set interval

      osc(18, 0.1, 0).color(2, 0.1, 2)
.mult(osc(20, 0.01, 0)).repeat(2, 20).rotate(0.5).modulate(o1)
.scale(1, () =>  (a.fft[0]*0.9 + 2)).diff(o1).out(o0)
osc(20, 0.2, 0).color(2, 0.7, 0.1).mult(osc(40)).modulateRotate(o0, 0.2)
.rotate(0.2).out(o1)


    </script>
  

</body></html>
